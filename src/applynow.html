<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- FontAwesome for Icons -->
     <script src="https://kit.fontawesome.com/e588cb9d47.js" crossorigin="anonymous"></script>
       <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
       <link rel="icon" type="image/png" href="path/images/logocoop-removebg-preview 2.png">
         <link href="../src/animation/animation.css" rel="stylesheet">
    <link href="./output.css" rel="stylesheet">
    <title>Member Registration | GBLDC</title>
</head>
<body class="bg-gray-50 antialiased font-sans">
    <!-- Header Section -->
     <header
      class="fixed top-0 left-0 w-full z-50 bg-white/95 backdrop-blur-sm shadow-sm border-b border-gray-100">
      <div
        class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3 lg:py-0">
        <!-- Logo Section - Responsive sizing -->
        <a href="landingpage.html"
          class="flex items-center gap-2 sm:gap-3 py-1 sm:py-2 flex-shrink-0">
          <img src="path/images/logocoop-removebg-preview 2.png"
            alt="GBLDC Logo"
            class="w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 object-contain">
          <span
            class="font-semibold text-base sm:text-lg lg:text-xl text-green-700 tracking-tight whitespace-nowrap">GBLDC</span>
        </a>

        <!-- Desktop Navigation -->
        <nav
          class="hidden lg:flex items-center gap-1 xl:gap-4 text-sm xl:text-base font-medium">
          <a href="landingpage.html"
            class="px-2 xl:px-3 py-2 rounded-md hover:bg-green-50 hover:text-green-700 transition-colors duration-200">Home</a>

          <!-- Products & Services Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 px-2 xl:px-3 py-2 rounded-md hover:bg-green-50 hover:text-green-700 transition-colors duration-200 focus:outline-none">
              <span class="whitespace-nowrap">Product & Services</span>
              <i
                class="fas fa-chevron-down text-xs transition-transform group-hover:rotate-180 duration-200"></i>
            </button>
            <div
              class="absolute left-0 top-full mt-2 w-48 bg-white border border-gray-100 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20">
              <a href="loan-products.html"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 rounded-t-lg transition-colors">Loans</a>
              <a href="deposit.html"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 transition-colors">Deposits</a>
              <a href="deposit.html"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 rounded-b-lg transition-colors">Savings</a>
            </div>
          </div>

          <!-- About Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 px-2 xl:px-3 py-2 rounded-md hover:bg-green-50 hover:text-green-700 transition-colors duration-200 focus:outline-none">
              <span>About</span>
              <i
                class="fas fa-chevron-down text-xs transition-transform group-hover:rotate-180 duration-200"></i>
            </button>
            <div
              class="absolute left-0 top-full mt-2 w-56 bg-white border border-gray-100 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20">
              <a href="about-gbldc.html"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 rounded-t-lg transition-colors">About
                GBLDC</a>
              <a href="#"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 transition-colors">Mission
                & Vision</a>
              <a href="board-of-directors.html"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 transition-colors">Board
                of Directors</a>
              <a href="committee-officers.html"
                class="block px-4 py-3 hover:bg-green-50 hover:text-green-700 rounded-b-lg transition-colors">Committee
                Officers</a>
            </div>
          </div>

          <a href="news&events.html"
            class="px-2 xl:px-3 py-2 rounded-md hover:bg-green-50 hover:text-green-700 transition-colors duration-200 whitespace-nowrap">News
            & Events</a>
        </nav>

        <!-- Desktop CTA Button -->
        <div class="hidden lg:flex items-center">
          <a href="applynow.html"
            class="bg-green-600 text-white px-4 xl:px-7 py-2 rounded-full font-medium hover:bg-green-700 transition-colors duration-200 text-sm xl:text-base whitespace-nowrap">
            Join Now
          </a>
        </div>

        <!-- Mobile menu button -->
        <button id="mobile-menu-btn"
          class="lg:hidden flex items-center justify-center w-10 h-10 rounded-full hover:bg-green-50 transition-colors duration-200"
          onclick="toggleMobileMenu()">
          <svg id="menu-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
            class="w-6 h-6 transition-transform duration-200">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
          <svg id="close-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
            class="w-6 h-6 hidden transition-transform duration-200">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Mobile Navigation Menu -->
      <div id="mobile-menu"
        class="lg:hidden absolute top-full left-0 w-full bg-white border-b border-gray-100 shadow-lg transform -translate-y-full invisible transition-all duration-300 z-40">
        <nav class="px-4 sm:px-6 py-4 space-y-1">
          <!-- Mobile Home Link -->
          <a href="landingpage.html"
            class="block px-4 py-3 rounded-lg hover:bg-green-50 hover:text-green-700 transition-colors font-medium">
            Home
          </a>

          <!-- Mobile Products & Services -->
          <div class="space-y-1">
            <button onclick="toggleDropdownProductsMobile(event)"
              class="w-full flex items-center justify-between px-4 py-3 rounded-lg hover:bg-green-50 hover:text-green-700 transition-colors font-medium text-left">
              <span>Product & Services</span>
              <i id="products-chevron"
                class="fas fa-chevron-down text-sm transition-transform duration-200"></i>
            </button>
            <div id="dropdown-menu-products-mobile"
              class="hidden ml-4 space-y-1">
              <a href="loan-products.html"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">Loans</a>
              <a href="deposit.html"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">Deposits</a>
              <a href="deposit.html"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">Savings</a>
            </div>
          </div>

          <!-- Mobile About -->
          <div class="space-y-1">
            <button onclick="toggleDropdownMobileAbout(event)"
              class="w-full flex items-center justify-between px-4 py-3 rounded-lg hover:bg-green-50 hover:text-green-700 transition-colors font-medium text-left">
              <span>About</span>
              <i id="about-chevron"
                class="fas fa-chevron-down text-sm transition-transform duration-200"></i>
            </button>
            <div id="dropdown-menu-about-mobile" class="hidden ml-4 space-y-1">
              <a href="about-gbldc.html"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">About
                GBLDC</a>
              <a href="#"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">Mission
                & Vision</a>
              <a href="board-of-directors.html"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">Board
                of Directors</a>
              <a href="committee-officers.html"
                class="block px-4 py-2 rounded-lg hover:bg-green-100 hover:text-green-700 transition-colors text-sm">Committee
                Officers</a>
            </div>
          </div>

          <!-- Mobile News & Events -->
          <a href="news&events.html"
            class="block px-4 py-3 rounded-lg hover:bg-green-50 hover:text-green-700 transition-colors font-medium">
            News & Events
          </a>

          <!-- Mobile CTA Button -->
          <div class="pt-4 border-t border-gray-100 mt-4">
            <a href="applynow.html"
              class="block w-full bg-green-600 text-white text-center px-6 py-3 rounded-full font-medium hover:bg-green-700 transition-colors duration-200 sm:text-center md:text-center">
              Join Now
            </a>
          </div>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <div class="max-w-4xl mx-auto mt-24 p-7">
        <h2 class="text-center text-4xl font-semibold text-gray-800 block">Member Registration</h2>
        <p class="text-center text-black mt-3">Let’s talks and learn your finances better</p>
        <div class="flex items-center justify-center my-6 flex-col md:flex-row">
            <div class="flex items-center gap-8">
                <div class="flex flex-col items-center text-black">
                    <a href="#" onclick="validateStep1(event)">
                        <div class="w-12 h-12 flex items-center justify-center bg-green-300 rounded-full">
                            1
                        </div>
                    </a>
                    <a href="#">
                        <p class="text-center text-sm mt-2">Personal Information</p>
                    </a>
                </div>
                <div class="w-20 h-1 bg-green-300"></div>
                <div class="flex flex-col items-center text-black">
                    <a href="#" onclick="validateStep1(event)">
                        <div class="w-12 h-12 flex items-center justify-center bg-gray-200 rounded-full">
                            2
                        </div>
                    </a>
                    <p class="text-center text-sm mt-2">Emergency Contact 1</p>
                </div>
                <div class="w-20 h-1 bg-green-300"></div>
                 <div class="flex flex-col items-center text-black">
                    <a href="#" onclick ="validateStep1(event)">
                        <div class="w-12 h-12 flex items-center justify-center bg-gray-200 rounded-full">
                        3
                    </div></a>
                    <p class="text-center text-sm mt-2">Emergency Contact 2</p>
                </div>
                <div class="w-20 h-1 bg-gray-300"></div>
                <div class="flex flex-col items-center text-black">
                    <a href="#" onclick="validateStep1(event)">
                        <div class="w-12 h-12 flex items-center justify-center bg-gray-200 rounded-full">
                            4
                        </div>
                    </a>
                    <p class="text-center text-sm mt-2">Employment Information</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="validationModal" class="fixed inset-0 items-center flex justify-center hidden">
        <div class="bg-white p-8 rounded-md shadow-lg max-w-md w-2/5 z-50 animate-fade-in-down">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Missing Required Fields</h3>
            <p class="text-gray-600 mb-4">Please fill out the following required fields before proceeding:</p>
            <ul id="missingFieldsList" class="custom-asterisk-list list-inside text-red-500 mb-4"></ul>
            <button onclick="closeModal()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded">Close</button>
        </div>
    </div>
    
    <form class="mt-4 space-y-6 max-w-7xl mx-auto bg-white p-10 md:p-20 shadow-lg rounded-lg mb-10" >
        <!-- Branch -->
        <h3 class="text-2xl font-medium text-teal-900">Personal Information</h3>
        <p class="text-gray-600 mb-4">Please fill out the form below with your personal information.</p>
        <!-- Name Fields -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label for="lastName" class="block text-black">Last Name<span class="text-red-500">*</span></label>
                <input id="lastName" type="text" placeholder="Last Name" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
            </div>
            <div>
                <label for="firstName" class="block text-black">First Name<span class="text-red-500">*</span></label>
                <input id="firstName" type="text" placeholder="First Name" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
            </div>
            <div>
                <label for="middleName" class="block text-black">Middle Name<span class="text-red-500">*</span></label>
                <input id="middleName" type="text" placeholder="Middle Name" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
            </div>
        </div>
    
        <!-- Birth Details -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label for="birthPlace" class="block text-black">Place of Birth<span class="text-red-500">*</span></label>
                <input id="birthPlace" type="text" placeholder="Place of Birth" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
            </div>
            <div>
                <label for="birthDate" class="block text-black">Birth Date<span class="text-red-500">*</span></label>
                <input id="birthDate" type="date" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400 text-black" required onchange="calculateAge()">
            </div>
            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-1">
                    <label for="age" class="block text-black">Age<span class="text-red-500">*</span></label>
                    <input id="age" type="number" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400 text-black bg-gray-100" readonly required>
                </div>
                 <div>
                    <label class="block text-black">Gender<span class="text-red-500">*</span></label>
                    <div class="flex gap-4 mt-2">
                        <label><input type="radio" name="gender" value="Male" class="mr-1 mt-0.5"> Male</label>
                        <label><input type="radio" name="gender" value="Female" class="mr-1 mt-0.5"> Female</label>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Religion, Nationality, Status -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-gray-400">
            <div>
                <label for="religion" class="block text-black">Religion<span class="text-red-500">*</span></label>
                <select id="religion" class="mt-2 text-black border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
                    <option>Select Religion</option>
                    <option>ROMAN CATHOLIC</option>
                    <option >PROTESTANT</option>
                    <option >CHRISTIAN</option>
                    <option >BAPTIST</option>
                    <option >SEVENTH-DAY ADVENTIST</option>
                    <option >IGLESIA NI CRISTO</option>
                    <option >ADVENTIST</option>
                    <option >BUDDHISM</option>
                    <option >JESUS IS LORD MOVEMENT</option>
                    <option >JEHOVAH'S WITNESSES</option>
                    <option >METHODIST</option>
                    <option >NON-SECTARIAN</option>
                    <option >OTHER</option>

                </select>
            </div>
            <div>
                <label for="nationality" class="block text-black">Nationality<span class="text-red-500">*</span></label>
                <input id="nationality" type="text" placeholder="Nationality" class="mt-2 text-black border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
            </div>
            <div>
                <label for="civilStatus" class="block text-black">Civil Status<span class="text-red-500">*</span></label>
                <select id="civilStatus" class="mt-2 text-black border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
                    <option>Select Status</option>
                    <option>SINGLE</option>
                    <option>WIDOW</option>
                    <option>MARRIED</option>
                    <option>SEPARATED</option>
                </select>
            </div>
        </div>
        <div class="md:col-span-2 w-full">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="email" class="block text-black font-medium">Email Address<span class="text-red-500">*</span></label>
                    <input id="email" type="email" placeholder="Email Address" class="border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
                </div>
                <div>
                    <label for="contact" class="block text-black">Contact Number<span class="text-red-500">*</span></label>
                    <div class="flex items-center">
                        <span class="px-2 text-black">+63</span>
                        <input id="contact" type="tel" pattern="[0-9]{10}" maxlength="10" class="p-2 rounded-sm w-full border focus:outline-none focus:ring-2 focus:ring-green-400" required inputmode="numeric" placeholder="9123456789">
                    </div>
                </div>
            </div>
        </div>
        <hr class="my-6 border-gray-300">
    
        <!-- Home Address -->
        <h3 class="text-2xl font-medium text-teal-900">Home Address</h3>
        <label for="street" class="block text-black">Street Address<span class="text-red-500">*</span></label>
        <input id="street" type="text" placeholder="No. & Street" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
    
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-gray-400">
            <div>
                <label for="province" class="block text-black">Province<span class="text-red-500">*</span></label>
                <select id="province" class="mt-2 border border-gray-300 text-black p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400">
                    <option value="">Select Province</option>
                </select>
            </div>
            <div>
                <label for="city" class="block text-black">City/Municipality<span class="text-red-500">*</span></label>
                <select id="city" class="mt-2 border border-gray-300 text-black p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400">
                    <option value="">Select City</option>
                </select>
            </div>
            <div>
                <label for="barangay" class="block text-black">Barangay<span class="text-red-500">*</span></label>
                <select id="barangay" class="mt-2 border border-gray-300 text-black p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400">
                    <option value="">Select Barangay</option>
                </select>
            </div>
        </div>
    
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label for="yearsOfStay" class="block text-black">Years of Stay<span class="text-red-500">*</span></label>
                <input id="yearsOfStay" type="text" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
            </div>
            <div>
                <label for="houseOwnership" class="block text-black">House Ownership<span class="text-red-500">*</span></label>
                <select id="houseOwnership" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
                    <option>Select Ownership</option>
                    <option>Owned</option>
                    <option>Rented</option>
                    <option>Living with Parents</option>
                    <option>Other</option>
                </select>
                </div>
                <div>
                    <label for="zipCode" class="block text-black">Zip Code<span class="text-red-500">*</span></label>
                    <input id="zipCode" type="text" placeholder="Zip Code" class="mt-2 border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400" required>
                </div>
        </div>
        <!-- Submit Button -->
        <div class="flex justify-end mt-6 font-light">
            <button type="button" onclick="validateStep1(event)" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded">Continue</button>
        </div>
    </form>
    </div>
    <script src="../src/javascript/dropdown.js"></script>
    <script>
        function validateStep1(event) {
            event.preventDefault();
            const requiredFields = document.querySelectorAll('input[required], select[required]');
            let allFilled = true;
            let missingFields = [];

            requiredFields.forEach(field => {
            if (!field.value.trim()) {
                allFilled = false;
                field.classList.add('border-red-500');
                let label = field.closest('div')?.querySelector('label')?.textContent ||
                field.previousElementSibling?.textContent ||
                field.closest('fieldset')?.querySelector('legend')?.textContent ||
                field.name || field.id || 'Field';
                label = label.replace('*', '').trim();
                if (!missingFields.includes(label)) missingFields.push(label);
            } else {
                field.classList.remove('border-red-500');
            }
            });

            if (!allFilled) {
            Swal.fire({
                icon: 'warning',
                iconColor: '#dc2626',
                color: '#1e2939',
                title: 'Missing Required Fields',
                html: `<p>Please fill out the following required fields before proceeding:</p>
                   <ul style="text-align:left; color:#e53e3e;">
                   ${missingFields.map(f => `<li>• ${f}</li>`).join('')}
                   </ul>`,
                confirmButtonColor: '#16a34a'
            });
            } else {
            // Proceed to the next page
            window.location.href = "applynowstep2.html";
            }
        }

        function closeModal() {
            // Not needed with SweetAlert2
        }

        function calculateAge() {
            const birthDateInput = document.getElementById('birthDate');
            const ageInput = document.getElementById('age');
            const birthDateValue = birthDateInput.value;
            if (!birthDateValue) {
            ageInput.value = '';
            return;
            }
            const today = new Date();
            const birthDate = new Date(birthDateValue);
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
            age--;
            }
            ageInput.value = age >= 0 ? age : '';
        }
        // PSGC API base URL
        const PSGC_API = 'https://psgc.gitlab.io/api';
        
        // Elements
        const provinceSelect = document.getElementById('province');
        const citySelect = document.getElementById('city');
        const barangaySelect = document.getElementById('barangay');
        
        // Load provinces on page load
        fetch(`${PSGC_API}/provinces/`)
          .then(res => res.json())
          .then(provinces => {
            provinces.forEach(province => {
              provinceSelect.innerHTML += `<option value="${province.code}">${province.name}</option>`;
            });
          });
        
        // When province changes, load cities/municipalities
        provinceSelect.addEventListener('change', function() {
          const provinceCode = this.value;
          citySelect.innerHTML = '<option value="">Select City/Municipality</option>';
          barangaySelect.innerHTML = '<option value="">Select Barangay</option>';
          if (!provinceCode) return;
        
          fetch(`${PSGC_API}/provinces/${provinceCode}/cities-municipalities/`)
            .then(res => res.json())
            .then(cities => {
              cities.forEach(city => {
                citySelect.innerHTML += `<option value="${city.code}">${city.name}</option>`;
              });
            });
        });
        
       // When city/municipality changes, load barangays and set zip code
citySelect.addEventListener('change', function() {
  const cityCode = this.value;
  barangaySelect.innerHTML = '<option value="">Select Barangay</option>';
  document.getElementById('zipCode').value = ''; // Clear zip code
  if (!cityCode) return;

  // Fetch barangays
  fetch(`${PSGC_API}/cities-municipalities/${cityCode}/barangays/`)
    .then(res => res.json())
    .then(barangays => {
      barangays.forEach(barangay => {
        barangaySelect.innerHTML += `<option value="${barangay.code}">${barangay.name}</option>`;
      });
    });

  // Fetch city/municipality details for zip code
  fetch(`${PSGC_API}/cities-municipalities/${cityCode}/`)
    .then(res => res.json())
    .then(city => {
      // PSGC API returns postalCode (zip code)
      document.getElementById('zipCode').value = city.postalCode || '';
    });
});
    </script>
    <script src="../src/javascript/landingpage.js"></script>
</body>
</html>
