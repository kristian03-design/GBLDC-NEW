<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Account Settings | GBLDC</title>
        <link rel="stylesheet" href="output.css" />
        <link rel="icon" type="image/png"
            href="path/images/logocoop-removebg-preview 2.png">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
               <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>
    <body class="bg-gray-50">
        <div class="min-h-screen flex relative">
            <!-- Sidebar (reuse from dashboard) -->
            <aside
                class="w-80 lg:w-1/5 bg-white h-screen p-3 lg:p-5 shadow-lg flex flex-col fixed lg:relative z-50 sidebar-transition">
                <div class="flex items-center space-x-2 lg:space-x-3 mb-4">
                    <div
                        class="w-12 h-12 lg:w-16 lg:h-16 rounded-full flex items-center justify-center">
                        <img
                            src="path/images/logocoop-removebg-preview 2.png" />
                    </div>
                    <h1
                        class="text-xl lg:text-3xl font-bold tracking-wider text-gray-800">GBLDC</h1>
                </div>
                <div class="mb-6">
                    <div
                        class="flex items-center space-x-3 mb-4 p-2 bg-gray-50 rounded-lg">
                        <div
                            class="w-12 h-12 lg:w-16 lg:h-16 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden">
                            <img src="path/images/Kristian.png"
                                class="rounded-full" />
                        </div>
                        <div class="flex-1 min-w-0">
                            <p
                                class="font-semibold text-sm lg:text-base truncate">Kristian
                                Lloyd Hernandez</p>
                            <p
                                class="text-xs lg:text-sm text-gray-500 truncate">hkristianlloyd2@gmail.com</p>
                        </div>
                    </div>
                    <nav class="flex flex-col gap-1 lg:gap-2">
                        <a href="loandashboard.html"
                            class="flex items-center p-3 lg:p-4 hover:bg-gray-200 rounded-lg font-medium text-sm lg:text-base transition-colors">
                            <i class="fa-solid fa-house mr-2 lg:mr-3 w-4"></i>
                            <span class="truncate">Loan Dashboard</span>
                        </a>
                        <a href="checkloanstatus.html"
                            class="flex items-center p-3 lg:p-4 hover:bg-gray-200 rounded-lg font-medium text-sm lg:text-base transition-colors">
                            <i
                                class="fa-solid fa-money-bill-wave mr-2 lg:mr-3 w-4"></i>
                            <span class="truncate">Check Loan Status</span>
                        </a>
                        <a href="contact-us.html"
                            class="flex items-center p-3 lg:p-4 hover:bg-gray-200 rounded-lg font-medium text-sm lg:text-base transition-colors">
                            <i class="fas fa-envelope mr-2 lg:mr-3 w-4"></i>
                            <span class="truncate">Contact Us</span>
                        </a>
                        <a href="user-faq.html"
                            class="flex items-center p-3 lg:p-4 hover:bg-gray-200 rounded-lg font-medium text-sm lg:text-base transition-colors">
                            <i
                                class="fas fa-question-circle mr-2 lg:mr-3 w-4"></i>
                            <span class="truncate">FAQ</span>
                        </a>
                        <a href="account-settings.html"
                            class="flex items-center p-3 lg:p-4 bg-green-500 text-white rounded-lg font-medium text-sm lg:text-base">
                            <i class="fas fa-cog mr-2 lg:mr-3 w-4"></i>
                            <span class="truncate">Account Settings</span>
                        </a>
                        <a href="#"
                            class="flex items-center p-3 lg:p-4 hover:bg-gray-200 rounded-lg font-medium text-sm lg:text-base transition-colors">
                            <i class="fas fa-sign-out-alt mr-2 lg:mr-3 w-4"></i>
                            <span class="truncate">Logout</span>
                        </a>
                    </nav>
                </div>
                <div
                    class="mt-6 lg:mt-10 text-center p-4 bg-green-50 rounded-lg">
                    <h2
                        class="text-sm lg:text-base font-bold text-green-800">Get
                        the App Now</h2>
                    <div
                        class="w-16 h-16 lg:w-20 lg:h-20 rounded-lg flex items-center justify-center mx-auto mt-2">
                        <img
                            src="path/images/logocoop-removebg-preview 2.png" />
                    </div>
                    <a
                        href="https://play.google.com/store" target="_blank"
                        class="w-full inline-block mt-3 px-4 py-2 bg-green-600 text-white rounded-lg font-medium text-sm hover:bg-green-700 transition-colors text-center">
                        Download from Google Play
                    </a>
                    <a
                        href="https://www.apple.com/app-store/" target="_blank"
                        class="w-full inline-block mt-2 px-4 py-2 bg-gray-800 text-white rounded-lg font-medium text-sm hover:bg-gray-900 transition-colors text-center">
                        Download from App Store
                    </a>
                    <p class="text-xs text-gray-500 mt-3">
                        Example links. Replace with your app's store URLs.
                    </p>
                </div>
            </aside>
            <!-- Main Content -->
            <main class="flex-1 p-4 lg:p-6 ml-0 lg:ml-0">
                <div class="mt-12 lg:mt-0 mb-6">
                    <h1
                        class="text-xl lg:text-2xl xl:text-3xl font-bold">Account
                        Settings</h1>
                    <p class="text-gray-600 text-sm lg:text-base">Manage your
                        profile and account security.</p>
                    <hr class="border-gray-300 mt-4 lg:mt-6">
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Profile Info -->
                    <section class="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h2
                            class="text-lg font-semibold mb-4 text-teal-950">Profile
                            Information</h2>
                        <!-- Profile Picture Section -->
                        <div class="flex items-center mb-6">
                            <div
                                class="w-20 h-20 rounded-full overflow-hidden border-2 border-green-400 flex-shrink-0">
                                <img id="profilePicPreview"
                                    src="path/images/Kristian.png"
                                    alt="Profile Picture"
                                    class="object-cover w-full h-full" />
                            </div>
                            <div class="ml-6">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Profile
                                    Picture</label>
                                <input type="file" id="profilePicInput"
                                    accept="image/*"
                                    class="block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100" />
                                <p class="text-xs text-gray-500 mt-1">JPG, PNG,
                                    or GIF. Max size 2MB.</p>
                            </div>
                        </div>
                        <form id="profileForm">
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Full
                                    Name</label>
                                <input id="fullNameInput" type="text"
                                    value="Kristian Lloyd Hernandez"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
                            </div>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Email
                                    Address</label>
                                <input id="emailInput" type="email"
                                    value="hkristianlloyd2@gmail.com"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
                            </div>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Phone
                                    Number</label>
                                <input id="phoneInput" type="text" value
                                    placeholder="Enter phone number"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
                            </div>
                            <button type="submit"
                                class="bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors">Save
                                Changes</button>
                        </form>
                    </section>
                    <!-- Password Change -->
                    <section class="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h2
                            class="text-lg font-semibold mb-4 text-teal-950">Change
                            Password</h2>
                        <form>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Current
                                    Password</label>
                                <input type="password"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
                            </div>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">New
                                    Password</label>
                                <input type="password"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
                            </div>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Confirm
                                    New Password</label>
                                <input type="password"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400" />
                            </div>
                            <button type="submit"
                                class="bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors">Update
                                Password</button>
                        </form>
                    </section>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Payment Methods Section with Dynamic Add/Remove -->
                    <section class="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h2
                            class="text-lg font-semibold mb-4 text-teal-950">Payment
                            Methods</h2>

                        <!-- List of Saved Payment Methods -->
                        <div class="mb-6">
                            <h3
                                class="text-base font-semibold mb-2 text-gray-800">Saved
                                Accounts</h3>
                            <table id="paymentTable"
                                class="min-w-full bg-white border rounded-lg">
                                <thead>
                                    <tr>
                                        <th
                                            class="bg-gray-100 py-2 px-4 border-b text-left text-sm text-gray-700">Type</th>
                                        <th
                                            class="bg-gray-100 py-2 px-4 border-b text-left text-sm text-gray-700">Account
                                            Name</th>
                                        <th
                                            class="bg-gray-100 py-2 px-4 border-b text-left text-sm text-gray-700">Account
                                            Number</th>
                                        <th
                                            class="bg-gray-100 py-2 px-4 border-b text-left text-sm text-gray-700">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="paymentTableBody">
                                    <!-- Dynamic rows go here -->
                                </tbody>
                            </table>
                            <p class="text-xs text-gray-500 mt-2">*Your payment
                                methods are not saved after page reload (demo
                                only).</p>
                        </div>
                    </section>
                    <!-- Add Payment Method Section -->
                    <section class="bg-white rounded-lg shadow-md p-6 mb-6">
                        <form id="paymentForm" autocomplete="off">
                            <h3
                                class="text-base font-semibold mb-2 text-gray-800">Add
                                New Payment Method</h3>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Type</label>
                                <select id="paymentType"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400"
                                    required>
                                    <option value="Bank">Bank</option>
                                    <option value="BPI">BPI</option>
                                    <option value="BDO">BDO</option>
                                    <option value="Metrobank">Metrobank</option>
                                    <option value="Landbank">Landbank</option>
                                    <option value="Chinabank">Chinabank</option>
                                    <option value="UnionBank">UnionBank</option>
                                    <option value="PNB">PNB</option>
                                    <option value="Security Bank">Security
                                        Bank</option>
                                    <option value="RCBC">RCBC</option>
                                    <option value="GCash">GCash</option>
                                    <option value="PayMaya">PayMaya</option>
                                    <option value="Coins.ph">Coins.ph</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Account
                                    Name (Bank Name or E-Wallet Name)</label>
                                <input id="accountName" type="text"
                                    placeholder="e.g. BDO, GCASH, PAYMAYA"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 uppercase"
                                    style="text-transform:uppercase"
                                    oninput="this.value = this.value.toUpperCase();"
                                    required />
                            </div>
                            <div class="mb-4">
                                <label
                                    class="block text-gray-700 text-sm font-medium mb-2">Account
                                    Number</label>
                                <input id="accountNumber" type="text"
                                    placeholder="Enter account or mobile number"
                                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400"
                                    required />
                            </div>
                            <button type="submit"
                                class="bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors">Add
                                Payment Method</button>
                        </form>
                    </section>
                    <!-- Danger Zone -->
                    <section class="bg-white rounded-lg shadow-md p-6 mt-0">
                        <h2
                            class="text-lg font-semibold mb-4 text-red-700">Danger
                            Zone</h2>
                        <p class="text-sm text-gray-700 mb-4">Delete your
                            account
                            and all associated data. This action cannot be
                            undone.</p>
                        <button
                            class="bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors">Delete
                            Account</button>
                    </section>
                </main>
            </div>
 <script>
const paymentTableBody = document.getElementById('paymentTableBody');
const paymentForm = document.getElementById('paymentForm');
const paymentType = document.getElementById('paymentType');
const accountName = document.getElementById('accountName');
const accountNumber = document.getElementById('accountNumber');

let paymentMethods = [];

function renderPayments() {
    paymentTableBody.innerHTML = '';
    paymentMethods.forEach((method, idx) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td class="py-2 px-4 border-b text-sm hover:bg-gray-50">${method.type}</td>
            <td class="py-2 px-4 border-b text-sm hover:bg-gray-50">${method.name}</td>
            <td class="py-2 px-4 border-b text-sm hover:bg-gray-50">${method.number}</td>
            <td class="py-2 px-4 border-b text-sm hover:bg-gray-50">
                <button class="text-red-600 hover:underline text-xs" onclick="removePayment(${idx})">Remove</button>
            </td>
        `;
        paymentTableBody.appendChild(row);
    });
}

window.removePayment = function(idx) {
    paymentMethods.splice(idx, 1);
    renderPayments();
};

paymentForm.addEventListener('submit', function(e) {
    e.preventDefault();
    paymentMethods.push({
        type: paymentType.value,
        name: accountName.value,
        number: accountNumber.value
    });
    renderPayments();
    paymentForm.reset();
    Swal.fire({
        icon: 'success',
        title: 'Payment method added!',
        showConfirmButton: false,
        timer: 1500
    });
});

renderPayments();
    // Update aside profile info when form is submitted
    document.getElementById('profileForm')?.addEventListener('submit', function(e) {
        e.preventDefault();
        // Update aside name and email
        const name = document.getElementById('fullNameInput').value;
        const email = document.getElementById('emailInput').value;
        const asideName = document.querySelector('aside .font-semibold');
        const asideEmail = document.querySelector('aside .text-xs.lg\\:text-sm.text-gray-500');
        if (asideName) asideName.textContent = name;
        if (asideEmail) asideEmail.textContent = email;
        // Update aside profile picture if changed
        const profilePic = document.getElementById('profilePicPreview').src;
        const asideImg = document.querySelector('aside img.rounded-full');
        if (asideImg) asideImg.src = profilePic;
        Swal.fire({
            icon: 'success',
            title: 'Profile updated!',
            showConfirmButton: false,
            timer: 1500
        });
    });

    // Update aside profile picture live when changed
    document.getElementById('profilePicInput')?.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file && file.size <= 2 * 1024 * 1024) {
            const reader = new FileReader();
            reader.onload = function(ev) {
                document.getElementById('profilePicPreview').src = ev.target.result;
                // Also update aside image live
                const asideImg = document.querySelector('aside img.rounded-full');
                if (asideImg) asideImg.src = ev.target.result;
                Swal.fire({
                    icon: 'success',
                    title: 'Profile picture changed!',
                    showConfirmButton: false,
                    timer: 1500
                });
            };
            reader.readAsDataURL(file);
        } else if (file) {
            alert('File is too large. Max size is 2MB.');
            e.target.value = '';
        }
    });
</script>
 </body>
 </html>